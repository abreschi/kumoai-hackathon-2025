<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Grocer - Personalized Shopping Experience</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
    tailwind.config = {
        theme: {
            extend: {
                fontFamily: {
                    'sans': ['Inter', 'sans-serif'],
                },
                colors: {
                    'primary': '#059669',
                    'primary-dark': '#047857',
                    'secondary': '#10B981',
                    'accent': '#F59E0B',
                    'surface': '#FFFFFF',
                    'background': '#F9FAFB',
                }
            }
        }
    };
    </script>
</head>
<body class="bg-background font-sans">
    <!-- @COMPONENT: App [Main application container with global state] -->
    <div id="app" class="min-h-screen">
        <!-- @COMPONENT: Header [Navigation and user selector] -->
        <!-- @END_COMPONENT: Header -->
        <header class="bg-surface shadow-sm border-b border-gray-200 sticky top-0 z-40">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <div class="flex items-center space-x-4">
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-shopping-cart text-primary text-xl"></i>
                            <h1 class="text-xl font-bold text-gray-900">Smart Grocer</h1>
                        </div>
                        <span class="hidden sm:inline-block text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded-full">Hackathon Demo</span>
                    </div>
                    
                    <!-- @COMPONENT: UserProfileSwitcher [User selection dropdown] -->
                    <div class="flex items-center space-x-4">
                        <div class="relative">
                            <label for="user-select" class="text-sm font-medium text-gray-700 mr-2">Active User:</label>
                            <select id="user-select" class="bg-surface border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" data-event="change:handleUserSwitch">
                                <!-- @MAP: users.map(user => ( -->
                                <option value="1" data-mock="true">1 - Sarah Johnson (Busy Family)</option>
                                <option value="2" data-mock="true">2 - Alex Chen (Vegan Athlete)</option>
                                <option value="3" data-mock="true">3 - Maria Rodriguez (Budget Conscious)</option>
                                <option value="4" data-mock="true">4 - David Kim (Premium Shopper)</option>
                                <!-- @END_MAP )) -->
                            </select>
                        </div>
                        <button class="bg-primary text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-primary-dark transition-colors" data-event="click:handleCheckout">
                            <i class="fas fa-credit-card mr-2"></i>Checkout
                        </button>
                    </div>
                    <!-- @END_COMPONENT: UserProfileSwitcher -->
                </div>
            </div>
        </header>

        <!-- @COMPONENT: SmartCartView [Main two-column layout] -->
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Left Column - Shopping Cart -->
                <div class="lg:col-span-2">
                    <div class="bg-surface rounded-xl shadow-sm border border-gray-200 p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-semibold text-gray-900">
                                <i class="fas fa-shopping-cart text-primary mr-2"></i>
                                Your Cart
                            </h2>
                            <button class="bg-accent text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-yellow-600 transition-colors" data-event="click:openInspireModal">
                                <i class="fas fa-magic mr-2"></i>âœ¨ Inspire Me
                            </button>
                        </div>

                        <!-- Cart Items List -->
                        <!-- @STATE: cartItems:array = mockInitialCarts[activeUserID] -->
                        <div class="space-y-4" id="cart-items">
                            <!-- @MAP: cartItems.map(item => ( -->
                            <!-- @COMPONENT: CartItem [Individual cart item row] -->
                            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors" data-mock="true">
                                <div class="flex-1">
                                    <h3 class="font-medium text-gray-900" data-bind="item.name">Organic Whole Milk (Gallon)</h3>
                                    <p class="text-sm text-gray-600">$<span data-bind="item.price">4.99</span> each</p>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <div class="flex items-center border border-gray-300 rounded-lg">
                                        <button class="p-2 hover:bg-gray-100 transition-colors" data-event="click:decrementQuantity" data-implementation="Decrease item quantity">
                                            <i class="fas fa-minus text-xs text-gray-600"></i>
                                        </button>
                                        <span class="px-3 py-2 text-sm font-medium" data-bind="item.quantity">2</span>
                                        <button class="p-2 hover:bg-gray-100 transition-colors" data-event="click:incrementQuantity" data-implementation="Increase item quantity">
                                            <i class="fas fa-plus text-xs text-gray-600"></i>
                                        </button>
                                    </div>
                                    <button class="text-red-500 hover:text-red-700 p-2" data-event="click:removeItem" data-implementation="Remove item from cart">
                                        <i class="fas fa-trash text-sm"></i>
                                    </button>
                                </div>
                            </div>
                            <!-- @END_COMPONENT: CartItem -->

                            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors" data-mock="true">
                                <div class="flex-1">
                                    <h3 class="font-medium text-gray-900">Cheerios Family Size</h3>
                                    <p class="text-sm text-gray-600">$5.50 each</p>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <div class="flex items-center border border-gray-300 rounded-lg">
                                        <button class="p-2 hover:bg-gray-100 transition-colors">
                                            <i class="fas fa-minus text-xs text-gray-600"></i>
                                        </button>
                                        <span class="px-3 py-2 text-sm font-medium">1</span>
                                        <button class="p-2 hover:bg-gray-100 transition-colors">
                                            <i class="fas fa-plus text-xs text-gray-600"></i>
                                        </button>
                                    </div>
                                    <button class="text-red-500 hover:text-red-700 p-2">
                                        <i class="fas fa-trash text-sm"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors" data-mock="true">
                                <div class="flex-1">
                                    <h3 class="font-medium text-gray-900">Chicken Breast Pack</h3>
                                    <p class="text-sm text-gray-600">$9.99 each</p>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <div class="flex items-center border border-gray-300 rounded-lg">
                                        <button class="p-2 hover:bg-gray-100 transition-colors">
                                            <i class="fas fa-minus text-xs text-gray-600"></i>
                                        </button>
                                        <span class="px-3 py-2 text-sm font-medium">2</span>
                                        <button class="p-2 hover:bg-gray-100 transition-colors">
                                            <i class="fas fa-plus text-xs text-gray-600"></i>
                                        </button>
                                    </div>
                                    <button class="text-red-500 hover:text-red-700 p-2">
                                        <i class="fas fa-trash text-sm"></i>
                                    </button>
                                </div>
                            </div>
                            <!-- @END_MAP )) -->
                        </div>

                        <!-- Cart Summary -->
                        <div class="mt-6 pt-6 border-t border-gray-200">
                            <div class="flex justify-between items-center text-lg font-semibold">
                                <span>Total:</span>
                                <span class="text-primary" data-bind="cartTotal">$29.47</span>
                            </div>
                            <p class="text-sm text-gray-600 mt-1" data-bind="itemCount">3 items in cart</p>
                        </div>
                    </div>
                </div>

                <!-- Right Column - Recommendations -->
                <div class="lg:col-span-1">
                    <div class="bg-surface rounded-xl shadow-sm border border-gray-200 p-6">
                        <h2 class="text-lg font-semibold text-gray-900 mb-4">
                            <i class="fas fa-star text-accent mr-2"></i>
                            Recommended for You
                        </h2>
                        
                        <!-- @STATE: recommendations:array = mockRecommendations[activeUserID] -->
                        <div class="space-y-3" id="recommendations">
                            <!-- @MAP: recommendations.map(product => ( -->
                            <!-- @COMPONENT: ProductCard [Recommended product card] -->
                            <div class="border border-gray-200 rounded-lg p-4 hover:border-primary hover:shadow-md transition-all cursor-pointer" data-mock="true">
                                <div class="flex items-center justify-between mb-2">
                                    <h3 class="font-medium text-gray-900 text-sm" data-bind="product.name">Kerrygold Butter</h3>
                                    <span class="text-primary font-semibold text-sm" data-bind="product.price">$4.99</span>
                                </div>
                                <p class="text-xs text-gray-600 mb-3">Often bought with milk products</p>
                                <button class="w-full bg-primary text-white py-2 px-3 rounded-lg text-xs font-medium hover:bg-primary-dark transition-colors" data-event="click:addToCart" data-implementation="Add product to cart">
                                    <i class="fas fa-plus mr-1"></i>Add to Cart
                                </button>
                            </div>
                            <!-- @END_COMPONENT: ProductCard -->

                            <div class="border border-gray-200 rounded-lg p-4 hover:border-primary hover:shadow-md transition-all cursor-pointer" data-mock="true">
                                <div class="flex items-center justify-between mb-2">
                                    <h3 class="font-medium text-gray-900 text-sm">Greek Yogurt</h3>
                                    <span class="text-primary font-semibold text-sm">$3.99</span>
                                </div>
                                <p class="text-xs text-gray-600 mb-3">Perfect for breakfast</p>
                                <button class="w-full bg-primary text-white py-2 px-3 rounded-lg text-xs font-medium hover:bg-primary-dark transition-colors">
                                    <i class="fas fa-plus mr-1"></i>Add to Cart
                                </button>
                            </div>

                            <div class="border border-gray-200 rounded-lg p-4 hover:border-primary hover:shadow-md transition-all cursor-pointer" data-mock="true">
                                <div class="flex items-center justify-between mb-2">
                                    <h3 class="font-medium text-gray-900 text-sm">Organic Eggs</h3>
                                    <span class="text-primary font-semibold text-sm">$6.49</span>
                                </div>
                                <p class="text-xs text-gray-600 mb-3">Cage-free, Grade A</p>
                                <button class="w-full bg-primary text-white py-2 px-3 rounded-lg text-xs font-medium hover:bg-primary-dark transition-colors">
                                    <i class="fas fa-plus mr-1"></i>Add to Cart
                                </button>
                            </div>
                            <!-- @END_MAP )) -->
                        </div>

                        <!-- Personalization Indicator -->
                        <div class="mt-6 p-3 bg-green-50 border border-green-200 rounded-lg">
                            <div class="flex items-center">
                                <i class="fas fa-brain text-green-600 mr-2"></i>
                                <span class="text-xs text-green-800 font-medium">AI-powered recommendations based on your shopping history</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <!-- @END_COMPONENT: SmartCartView -->

        <!-- @COMPONENT: InspireMeModal [Recipe suggestions modal] -->
        <!-- @STATE: isModalOpen:boolean = false -->
        <div id="inspire-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden" data-event="click:closeModal">
            <div class="flex items-center justify-center min-h-screen p-4">
                <div class="bg-surface rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden" data-event="click:stopPropagation">
                    <div class="flex items-center justify-between p-6 border-b border-gray-200">
                        <h2 class="text-xl font-semibold text-gray-900">
                            <i class="fas fa-magic text-accent mr-2"></i>
                            Recipe Inspiration
                        </h2>
                        <button class="text-gray-400 hover:text-gray-600 transition-colors" data-event="click:closeModal">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <div class="p-6 overflow-y-auto max-h-[70vh]">
                        <!-- @STATE: recipes:array = mockRecipes[activeUserID] -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- @MAP: recipes.map(recipe => ( -->
                            <!-- @COMPONENT: RecipeCard [Recipe suggestion card] -->
                            <div class="border border-gray-200 rounded-lg p-5 hover:border-primary transition-colors" data-mock="true">
                                <h3 class="font-semibold text-gray-900 mb-2" data-bind="recipe.title">Family Chicken Stir Fry</h3>
                                <p class="text-sm text-gray-600 mb-4">Quick and nutritious meal perfect for busy weeknights. Ready in 25 minutes!</p>
                                
                                <div class="mb-4">
                                    <h4 class="text-sm font-medium text-gray-900 mb-2">Missing Ingredients:</h4>
                                    <div class="space-y-2">
                                        <!-- @MAP: recipe.missingItems.map(item => ( -->
                                        <div class="flex items-center justify-between text-sm" data-mock="true">
                                            <span class="text-gray-700" data-bind="item.name">Bell Peppers (3 pack)</span>
                                            <button class="text-primary hover:text-primary-dark font-medium" data-event="click:addMissingItemToCart">
                                                <i class="fas fa-plus mr-1"></i>Add $2.99
                                            </button>
                                        </div>
                                        <div class="flex items-center justify-between text-sm" data-mock="true">
                                            <span class="text-gray-700">Soy Sauce</span>
                                            <button class="text-primary hover:text-primary-dark font-medium">
                                                <i class="fas fa-plus mr-1"></i>Add $1.49
                                            </button>
                                        </div>
                                        <!-- @END_MAP )) -->
                                    </div>
                                </div>
                                
                                <button class="w-full bg-accent text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-yellow-600 transition-colors" data-event="click:addAllMissingItems">
                                    Add All Missing Items
                                </button>
                            </div>
                            <!-- @END_COMPONENT: RecipeCard -->

                            <div class="border border-gray-200 rounded-lg p-5 hover:border-primary transition-colors" data-mock="true">
                                <h3 class="font-semibold text-gray-900 mb-2">Creamy Chicken Pasta</h3>
                                <p class="text-sm text-gray-600 mb-4">Comfort food at its finest. Rich, creamy, and satisfying for the whole family.</p>
                                
                                <div class="mb-4">
                                    <h4 class="text-sm font-medium text-gray-900 mb-2">Missing Ingredients:</h4>
                                    <div class="space-y-2">
                                        <div class="flex items-center justify-between text-sm" data-mock="true">
                                            <span class="text-gray-700">Penne Pasta</span>
                                            <button class="text-primary hover:text-primary-dark font-medium">
                                                <i class="fas fa-plus mr-1"></i>Add $1.99
                                            </button>
                                        </div>
                                        <div class="flex items-center justify-between text-sm" data-mock="true">
                                            <span class="text-gray-700">Heavy Cream</span>
                                            <button class="text-primary hover:text-primary-dark font-medium">
                                                <i class="fas fa-plus mr-1"></i>Add $2.79
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <button class="w-full bg-accent text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-yellow-600 transition-colors">
                                    Add All Missing Items
                                </button>
                            </div>
                            <!-- @END_MAP )) -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: InspireMeModal -->

        <!-- @COMPONENT: CheckoutView [Order summary and delivery options] -->
        <div id="checkout-view" class="fixed inset-0 bg-background z-50 hidden overflow-y-auto">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
                <div class="bg-surface rounded-xl shadow-sm border border-gray-200 p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-semibold text-gray-900">
                            <i class="fas fa-credit-card text-primary mr-2"></i>
                            Checkout
                        </h2>
                        <button class="text-gray-400 hover:text-gray-600 transition-colors" data-event="click:closeCheckout">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <!-- Order Summary -->
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Order Summary</h3>
                            <div class="space-y-3 mb-6">
                                <div class="flex justify-between items-center py-2 border-b border-gray-100" data-mock="true">
                                    <span class="text-gray-700">Organic Whole Milk (2x)</span>
                                    <span class="font-medium">$9.98</span>
                                </div>
                                <div class="flex justify-between items-center py-2 border-b border-gray-100" data-mock="true">
                                    <span class="text-gray-700">Cheerios Family Size (1x)</span>
                                    <span class="font-medium">$5.50</span>
                                </div>
                                <div class="flex justify-between items-center py-2 border-b border-gray-100" data-mock="true">
                                    <span class="text-gray-700">Chicken Breast Pack (2x)</span>
                                    <span class="font-medium">$19.98</span>
                                </div>
                            </div>
                            
                            <div class="border-t border-gray-200 pt-4">
                                <div class="flex justify-between items-center text-lg font-semibold">
                                    <span>Total:</span>
                                    <span class="text-primary">$29.47</span>
                                </div>
                            </div>
                        </div>

                        <!-- Delivery Options -->
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Delivery Options</h3>
                            <!-- @STATE: deliveryPredictions = mockDeliveryPredictions[activeUserID] -->
                            <div class="space-y-3 mb-6">
                                <div class="border border-primary bg-green-50 rounded-lg p-4" data-mock="true">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <div class="flex items-center">
                                                <input type="radio" name="delivery" checked class="text-primary mr-3">
                                                <span class="font-medium text-gray-900" data-bind="deliveryPredictions.predicted_method">Delivery</span>
                                                <span class="ml-2 bg-primary text-white text-xs px-2 py-1 rounded-full">Recommended</span>
                                            </div>
                                            <p class="text-sm text-gray-600 ml-6" data-bind="deliveryPredictions.predicted_time_window">Saturday 5pm-7pm</p>
                                        </div>
                                        <span class="font-medium text-gray-900">$3.99</span>
                                    </div>
                                </div>
                                
                                <div class="border border-gray-300 rounded-lg p-4" data-mock="true">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <div class="flex items-center">
                                                <input type="radio" name="delivery" class="text-primary mr-3">
                                                <span class="font-medium text-gray-900">Pickup</span>
                                            </div>
                                            <p class="text-sm text-gray-600 ml-6">Store pickup available</p>
                                        </div>
                                        <span class="font-medium text-gray-900">Free</span>
                                    </div>
                                </div>
                            </div>

                            <button class="w-full bg-primary text-white py-3 px-6 rounded-lg font-semibold hover:bg-primary-dark transition-colors" data-event="click:completeOrder" data-implementation="Process order completion">
                                <i class="fas fa-lock mr-2"></i>
                                Complete Order - $33.46
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: CheckoutView -->

        <!-- Search Bar (Bottom of page) -->
        <!-- @COMPONENT: SearchBar [Product discovery search] -->
        <div class="fixed bottom-4 left-1/2 transform -translate-x-1/2 z-30">
            <div class="bg-surface border border-gray-300 rounded-full shadow-lg px-4 py-2 flex items-center space-x-3 min-w-96">
                <i class="fas fa-search text-gray-400"></i>
                <input type="text" placeholder="Search for products..." class="flex-1 outline-none text-sm bg-transparent" data-implementation="Non-functional for MVP - placeholder only">
                <button class="bg-primary text-white p-2 rounded-full hover:bg-primary-dark transition-colors">
                    <i class="fas fa-arrow-right text-xs"></i>
                </button>
            </div>
        </div>
        <!-- @END_COMPONENT: SearchBar -->
    </div>
    <!-- @END_COMPONENT: App -->

    <script>
        (function() {
            // TODO: Implement business logic, API calls, and state management
            
            // Mock data structure matching the requirements
            const mockData = {
                users: [
                    { id: "1", name: "Sarah Johnson", persona: "Busy Family" },
                    { id: "2", name: "Alex Chen", persona: "Vegan Athlete" },
                    { id: "3", name: "Maria Rodriguez", persona: "Budget Conscious" },
                    { id: "4", name: "David Kim", persona: "Premium Shopper" }
                ],
                
                initialCarts: {
                    "1": [
                        { id: 1, name: "Organic Whole Milk (Gallon)", quantity: 2, price: 4.99 },
                        { id: 11, name: "Cheerios Family Size", quantity: 1, price: 5.50 },
                        { id: 12, name: "Chicken Breast Pack", quantity: 2, price: 9.99 }
                    ],
                    "2": [
                        { id: 13, name: "Oatly Oat Milk", quantity: 1, price: 4.25 },
                        { id: 14, name: "Firm Tofu", quantity: 2, price: 2.99 }
                    ],
                    "3": [
                        { id: 15, name: "Store Brand Bread", quantity: 1, price: 1.99 },
                        { id: 16, name: "Canned Beans", quantity: 3, price: 0.89 }
                    ],
                    "4": [
                        { id: 17, name: "Organic Salmon Fillet", quantity: 1, price: 14.99 },
                        { id: 18, name: "Artisanal Cheese", quantity: 1, price: 8.99 }
                    ]
                },
                
                recommendations: {
                    "1": [
                        { id: 5, name: "Kerrygold Butter", price: 4.99 },
                        { id: 6, name: "Greek Yogurt", price: 3.99 },
                        { id: 7, name: "Organic Eggs", price: 6.49 }
                    ],
                    "2": [
                        { id: 8, name: "Organic Baby Spinach", price: 3.50 },
                        { id: 9, name: "Quinoa", price: 5.99 },
                        { id: 10, name: "Almond Butter", price: 7.49 }
                    ],
                    "3": [
                        { id: 19, name: "Store Brand Pasta", price: 1.29 },
                        { id: 20, name: "Frozen Vegetables", price: 2.49 },
                        { id: 21, name: "Ground Turkey", price: 4.99 }
                    ],
                    "4": [
                        { id: 22, name: "Truffle Oil", price: 24.99 },
                        { id: 23, name: "Wagyu Beef", price: 89.99 },
                        { id: 24, name: "Imported Olive Oil", price: 19.99 }
                    ]
                },
                
                deliveryPredictions: {
                    "1": { predicted_method: "delivery", predicted_time_window: "Saturday 5pm-7pm" },
                    "2": { predicted_method: "pickup", predicted_time_window: "Sunday 9am-11am" },
                    "3": { predicted_method: "pickup", predicted_time_window: "Friday 3pm-5pm" },
                    "4": { predicted_method: "delivery", predicted_time_window: "Same day 1pm-3pm" }
                }
            };

            let activeUserID = "1";

            // DOM elements
            const userSelect = document.getElementById('user-select');
            const inspireModal = document.getElementById('inspire-modal');
            const checkoutView = document.getElementById('checkout-view');

            // Event handlers for demo functionality
            function handleUserSwitch(event) {
                activeUserID = event.target.value;
                console.log('Switched to user:', activeUserID);
                // TODO: Update all components with new user data
                updateCartDisplay();
                updateRecommendations();
            }

            function updateCartDisplay() {
                // TODO: Re-render cart items based on mockData.initialCarts[activeUserID]
                console.log('Updating cart for user:', activeUserID);
            }

            function updateRecommendations() {
                // TODO: Re-render recommendations based on mockData.recommendations[activeUserID]
                console.log('Updating recommendations for user:', activeUserID);
            }

            function openInspireModal() {
                inspireModal.classList.remove('hidden');
            }

            function closeModal() {
                inspireModal.classList.add('hidden');
            }

            function openCheckout() {
                checkoutView.classList.remove('hidden');
            }

            function closeCheckout() {
                checkoutView.classList.add('hidden');
            }

            // Event listeners
            userSelect.addEventListener('change', handleUserSwitch);
            
            // Inspire Me button
            document.querySelector('[data-event="click:openInspireModal"]').addEventListener('click', openInspireModal);
            
            // Modal close buttons
            document.querySelectorAll('[data-event="click:closeModal"]').forEach(btn => {
                btn.addEventListener('click', closeModal);
            });
            
            // Checkout button
            document.querySelector('[data-event="click:handleCheckout"]').addEventListener('click', openCheckout);
            
            // Close checkout
            document.querySelector('[data-event="click:closeCheckout"]').addEventListener('click', closeCheckout);

            // Close modal on background click
            inspireModal.addEventListener('click', function(e) {
                if (e.target === inspireModal) {
                    closeModal();
                }
            });

            // Prevent modal close on content click
            document.querySelector('#inspire-modal .bg-surface').addEventListener('click', function(e) {
                e.stopPropagation();
            });

            console.log('Smart Grocer Demo initialized with mock data');
        })();
    </script>
</body>
</html>